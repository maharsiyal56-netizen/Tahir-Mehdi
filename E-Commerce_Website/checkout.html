<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | TechStore</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html"><i class="fas fa-bolt"></i> <span>Tech</span>Store</a>
                </div>
                
                <nav class="navbar">
                    <ul class="nav-menu">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="#">Categories</a></li>
                        <li><a href="#">Deals</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </nav>
                
                <div class="header-actions">
                    <div class="search-box">
                        <input type="text" placeholder="Search products...">
                        <button><i class="fas fa-search"></i></button>
                    </div>
                    <div class="user-actions">
                        <a href="#" class="icon-link"><i class="far fa-user"></i></a>
                        <a href="cart.html" class="icon-link cart-icon">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count">0</span>
                        </a>
                    </div>
                    <div class="hamburger" id="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Checkout Process Steps -->
    <div class="checkout-steps">
        <div class="container">
            <div class="steps">
                <div class="step active">
                    <div class="step-number">1</div>
                    <div class="step-text">
                        <span>Cart</span>
                        <small>Review Items</small>
                    </div>
                </div>
                <div class="step active">
                    <div class="step-number">2</div>
                    <div class="step-text">
                        <span>Information</span>
                        <small>Shipping & Billing</small>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-text">
                        <span>Payment</span>
                        <small>Payment Method</small>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-text">
                        <span>Confirmation</span>
                        <small>Order Review</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Page Content -->
    <main class="checkout-page">
        <div class="container">
            <div class="page-header">
                <h1>Checkout</h1>
                <p>Complete your purchase securely</p>
            </div>
            
            <div class="checkout-container">
                <!-- Checkout Form -->
                <section class="checkout-form-section">
                    <form id="checkout-form">
                        <!-- Customer Information -->
                        <div class="checkout-section">
                            <h3><i class="fas fa-user"></i> Customer Information</h3>
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" required placeholder="your.email@example.com">
                                <small class="form-help">Order confirmation will be sent to this email</small>
                            </div>
                        </div>
                        
                        <!-- Shipping Address -->
                        <div class="checkout-section">
                            <h3><i class="fas fa-truck"></i> Shipping Address</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="first-name">First Name *</label>
                                    <input type="text" id="first-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="last-name">Last Name *</label>
                                    <input type="text" id="last-name" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="address">Address *</label>
                                <input type="text" id="address" required placeholder="Street address">
                            </div>
                            
                            <div class="form-group">
                                <label for="address2">Address Line 2 (Optional)</label>
                                <input type="text" id="address2" placeholder="Apartment, suite, unit, etc.">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">City *</label>
                                    <input type="text" id="city" required>
                                </div>
                                <div class="form-group">
                                    <label for="state">State / Province *</label>
                                    <select id="state" required>
                                        <option value="">Select State</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <option value="DE">Delaware</option>
                                        <option value="FL">Florida</option>
                                        <option value="GA">Georgia</option>
                                        <option value="HI">Hawaii</option>
                                        <option value="ID">Idaho</option>
                                        <option value="IL">Illinois</option>
                                        <option value="IN">Indiana</option>
                                        <option value="IA">Iowa</option>
                                        <option value="KS">Kansas</option>
                                        <option value="KY">Kentucky</option>
                                        <option value="LA">Louisiana</option>
                                        <option value="ME">Maine</option>
                                        <option value="MD">Maryland</option>
                                        <option value="MA">Massachusetts</option>
                                        <option value="MI">Michigan</option>
                                        <option value="MN">Minnesota</option>
                                        <option value="MS">Mississippi</option>
                                        <option value="MO">Missouri</option>
                                        <option value="MT">Montana</option>
                                        <option value="NE">Nebraska</option>
                                        <option value="NV">Nevada</option>
                                        <option value="NH">New Hampshire</option>
                                        <option value="NJ">New Jersey</option>
                                        <option value="NM">New Mexico</option>
                                        <option value="NY">New York</option>
                                        <option value="NC">North Carolina</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="OH">Ohio</option>
                                        <option value="OK">Oklahoma</option>
                                        <option value="OR">Oregon</option>
                                        <option value="PA">Pennsylvania</option>
                                        <option value="RI">Rhode Island</option>
                                        <option value="SC">South Carolina</option>
                                        <option value="SD">South Dakota</option>
                                        <option value="TN">Tennessee</option>
                                        <option value="TX">Texas</option>
                                        <option value="UT">Utah</option>
                                        <option value="VT">Vermont</option>
                                        <option value="VA">Virginia</option>
                                        <option value="WA">Washington</option>
                                        <option value="WV">West Virginia</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="WY">Wyoming</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="zip">ZIP / Postal Code *</label>
                                    <input type="text" id="zip" required>
                                </div>
                                <div class="form-group">
                                    <label for="country">Country *</label>
                                    <select id="country" required>
                                        <option value="US" selected>United States</option>
                                        <option value="CA">Canada</option>
                                        <option value="GB">United Kingdom</option>
                                        <option value="AU">Australia</option>
                                        <option value="DE">Germany</option>
                                        <option value="FR">France</option>
                                        <option value="JP">Japan</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone">Phone Number *</label>
                                <input type="tel" id="phone" required placeholder="(123) 456-7890">
                            </div>
                            
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="save-address">
                                    <span class="checkmark"></span>
                                    Save this address for future use
                                </label>
                            </div>
                        </div>
                        
                        <!-- Shipping Method -->
                        <div class="checkout-section">
                            <h3><i class="fas fa-shipping-fast"></i> Shipping Method</h3>
                            <div class="shipping-methods">
                                <label class="shipping-method selected">
                                    <input type="radio" name="shipping" value="standard" checked>
                                    <div class="shipping-content">
                                        <div class="shipping-info">
                                            <h4>Standard Shipping</h4>
                                            <p>5-7 business days</p>
                                        </div>
                                        <div class="shipping-price">$15.00</div>
                                    </div>
                                </label>
                                
                                <label class="shipping-method">
                                    <input type="radio" name="shipping" value="express">
                                    <div class="shipping-content">
                                        <div class="shipping-info">
                                            <h4>Express Shipping</h4>
                                            <p>2-3 business days</p>
                                        </div>
                                        <div class="shipping-price">$25.00</div>
                                    </div>
                                </label>
                                
                                <label class="shipping-method">
                                    <input type="radio" name="shipping" value="overnight">
                                    <div class="shipping-content">
                                        <div class="shipping-info">
                                            <h4>Overnight Shipping</h4>
                                            <p>Next business day</p>
                                        </div>
                                        <div class="shipping-price">$40.00</div>
                                    </div>
                                </label>
                                
                                <label class="shipping-method">
                                    <input type="radio" name="shipping" value="free">
                                    <div class="shipping-content">
                                        <div class="shipping-info">
                                            <h4>Free Shipping</h4>
                                            <p>7-10 business days</p>
                                            <small>Available for orders over $500</small>
                                        </div>
                                        <div class="shipping-price">$0.00</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Payment Method -->
                        <div class="checkout-section">
                            <h3><i class="fas fa-credit-card"></i> Payment Method</h3>
                            <div class="payment-methods">
                                <label class="payment-method selected">
                                    <input type="radio" name="payment" value="credit-card" checked>
                                    <div class="payment-content">
                                        <div class="payment-icon">
                                            <i class="far fa-credit-card"></i>
                                        </div>
                                        <div class="payment-info">
                                            <h4>Credit / Debit Card</h4>
                                            <p>Pay with Visa, Mastercard, American Express</p>
                                        </div>
                                    </div>
                                </label>
                                
                                <label class="payment-method">
                                    <input type="radio" name="payment" value="paypal">
                                    <div class="payment-content">
                                        <div class="payment-icon">
                                            <i class="fab fa-paypal"></i>
                                        </div>
                                        <div class="payment-info">
                                            <h4>PayPal</h4>
                                            <p>Fast and secure online payments</p>
                                        </div>
                                    </div>
                                </label>
                                
                                <label class="payment-method">
                                    <input type="radio" name="payment" value="apple-pay">
                                    <div class="payment-content">
                                        <div class="payment-icon">
                                            <i class="fab fa-apple"></i>
                                        </div>
                                        <div class="payment-info">
                                            <h4>Apple Pay</h4>
                                            <p>Pay with your Apple device</p>
                                        </div>
                                    </div>
                                </label>
                                
                                <label class="payment-method">
                                    <input type="radio" name="payment" value="google-pay">
                                    <div class="payment-content">
                                        <div class="payment-icon">
                                            <i class="fab fa-google"></i>
                                        </div>
                                        <div class="payment-info">
                                            <h4>Google Pay</h4>
                                            <p>Quick and secure payments</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                            
                            <!-- Credit Card Form (shown when credit card is selected) -->
                            <div class="credit-card-form" id="credit-card-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="card-name">Name on Card *</label>
                                        <input type="text" id="card-name" placeholder="John Smith">
                                    </div>
                                    <div class="form-group">
                                        <label for="card-number">Card Number *</label>
                                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="card-expiry">Expiry Date *</label>
                                        <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5">
                                    </div>
                                    <div class="form-group">
                                        <label for="card-cvc">CVC *</label>
                                        <input type="text" id="card-cvc" placeholder="123" maxlength="4">
                                        <small class="form-help">3 or 4 digit security code</small>
                                    </div>
                                </div>
                                
                                <div class="form-group checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="save-card">
                                        <span class="checkmark"></span>
                                        Save card for future purchases
                                    </label>
                                </div>
                                
                                <div class="card-icons">
                                    <i class="fab fa-cc-visa"></i>
                                    <i class="fab fa-cc-mastercard"></i>
                                    <i class="fab fa-cc-amex"></i>
                                    <i class="fab fa-cc-discover"></i>
                                </div>
                            </div>
                            
                            <!-- PayPal Info (shown when PayPal is selected) -->
                            <div class="payment-info-text" id="paypal-info" style="display: none;">
                                <p>You will be redirected to PayPal to complete your payment securely.</p>
                            </div>
                            
                            <!-- Apple Pay Info (shown when Apple Pay is selected) -->
                            <div class="payment-info-text" id="apple-pay-info" style="display: none;">
                                <p>Click "Place Order" to proceed with Apple Pay on compatible devices.</p>
                            </div>
                            
                            <!-- Google Pay Info (shown when Google Pay is selected) -->
                            <div class="payment-info-text" id="google-pay-info" style="display: none;">
                                <p>Click "Place Order" to proceed with Google Pay on compatible devices.</p>
                            </div>
                        </div>
                        
                        <!-- Billing Address (Optional) -->
                        <div class="checkout-section">
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="different-billing">
                                    <span class="checkmark"></span>
                                    Billing address is different from shipping address
                                </label>
                            </div>
                            
                            <div id="billing-address-form" style="display: none;">
                                <h4>Billing Address</h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="billing-address">Address</label>
                                        <input type="text" id="billing-address">
                                    </div>
                                    <div class="form-group">
                                        <label for="billing-city">City</label>
                                        <input type="text" id="billing-city">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="billing-state">State</label>
                                        <select id="billing-state">
                                            <option value="">Select State</option>
                                            <option value="CA">California</option>
                                            <option value="NY">New York</option>
                                            <option value="TX">Texas</option>
                                            <option value="FL">Florida</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="billing-zip">ZIP Code</label>
                                        <input type="text" id="billing-zip">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Order Notes -->
                        <div class="checkout-section">
                            <h3><i class="far fa-sticky-note"></i> Order Notes (Optional)</h3>
                            <div class="form-group">
                                <label for="order-notes">Special instructions for your order</label>
                                <textarea id="order-notes" rows="4" placeholder="Delivery instructions, gift messages, etc."></textarea>
                            </div>
                        </div>
                        
                        <!-- Terms and Conditions -->
                        <div class="checkout-section">
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="terms" required>
                                    <span class="checkmark"></span>
                                    I agree to the <a href="#" target="_blank">Terms and Conditions</a> and <a href="#" target="_blank">Privacy Policy</a> *
                                </label>
                            </div>
                            
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="newsletter" checked>
                                    <span class="checkmark"></span>
                                    Sign me up for the TechStore newsletter to receive updates and exclusive offers
                                </label>
                            </div>
                        </div>
                        
                        <!-- Checkout Actions -->
                        <div class="checkout-actions">
                            <a href="cart.html" class="btn btn-secondary">
                                <i class="fas fa-arrow-left"></i> Back to Cart
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-lock"></i> Place Order
                            </button>
                        </div>
                    </form>
                </section>
                
                <!-- Order Summary -->
                <aside class="order-summary">
                    <div class="order-summary-content">
                        <h3>Order Summary</h3>
                        
                        <div class="order-items" id="order-items">
                            <!-- Order items will be loaded via JavaScript -->
                        </div>
                        
                        <div class="order-summary-details">
                            <div class="summary-row">
                                <span>Subtotal</span>
                                <span id="order-subtotal">$0.00</span>
                            </div>
                            <div class="summary-row">
                                <span>Shipping</span>
                                <span id="order-shipping">$0.00</span>
                            </div>
                            <div class="summary-row">
                                <span>Tax</span>
                                <span id="order-tax">$0.00</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total</span>
                                <span id="order-total">$0.00</span>
                            </div>
                        </div>
                        
                        <div class="promo-code">
                            <h4><i class="fas fa-tag"></i> Promo Code</h4>
                            <div class="promo-input">
                                <input type="text" id="promo-code" placeholder="Enter code">
                                <button type="button" id="apply-promo" class="btn btn-secondary">Apply</button>
                            </div>
                            <div id="promo-message"></div>
                        </div>
                        
                        <div class="security-info">
                            <div class="security-item">
                                <i class="fas fa-shield-alt"></i>
                                <div>
                                    <h5>Secure Checkout</h5>
                                    <p>Your payment information is encrypted</p>
                                </div>
                            </div>
                            <div class="security-item">
                                <i class="fas fa-lock"></i>
                                <div>
                                    <h5>SSL Secured</h5>
                                    <p>256-bit encryption</p>
                                </div>
                            </div>
                            <div class="security-item">
                                <i class="fas fa-undo"></i>
                                <div>
                                    <h5>30-Day Returns</h5>
                                    <p>Hassle-free returns</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="need-help">
                            <h4><i class="far fa-question-circle"></i> Need Help?</h4>
                            <p>Call us at <strong>1-800-TECH-HELP</strong> or <a href="#">contact support</a></p>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="logo">
                        <a href="index.html"><i class="fas fa-bolt"></i> <span>Tech</span>Store</a>
                    </div>
                    <p>Your destination for the latest electronics and gadgets. Quality products with exceptional customer service.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="#">Categories</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Customer Service</h3>
                    <ul>
                        <li><a href="#">FAQs</a></li>
                        <li><a href="#">Shipping Policy</a></li>
                        <li><a href="#">Returns & Exchanges</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Newsletter</h3>
                    <p>Subscribe to get updates on new arrivals & special offers.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Enter your email" required>
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 TechStore. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Order Confirmation Modal -->
    <div class="modal" id="order-confirmation-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-check-circle"></i> Order Confirmed!</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="confirmation-content">
                    <div class="confirmation-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Thank You for Your Order!</h3>
                    <p class="order-id">Order ID: <strong>TS-<span id="generated-order-id">---</span></strong></p>
                    <p>Your order has been successfully placed. A confirmation email has been sent to <strong id="confirmation-email">---</strong>.</p>
                    
                    <div class="order-summary-modal">
                        <h4>Order Summary</h4>
                        <div id="modal-order-items"></div>
                        <div class="summary-row total">
                            <span>Total Paid</span>
                            <span id="modal-order-total">$0.00</span>
                        </div>
                    </div>
                    
                    <div class="shipping-estimate">
                        <h4><i class="fas fa-truck"></i> Estimated Delivery</h4>
                        <p><strong id="delivery-date">---</strong> via <span id="delivery-method">Standard Shipping</span></p>
                    </div>
                    
                    <div class="next-steps">
                        <h4>What's Next?</h4>
                        <ul>
                            <li><i class="fas fa-envelope"></i> You'll receive an order confirmation email shortly</li>
                            <li><i class="fas fa-box"></i> We'll notify you when your order ships</li>
                            <li><i class="fas fa-map-marker-alt"></i> Track your order from your account</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a href="index.html" class="btn btn-primary">Continue Shopping</a>
                <a href="#" class="btn btn-secondary">View Order Details</a>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Checkout Page Specific Functions
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart
            updateCartCount();
            loadOrderSummary();
            
            // Setup event listeners
            setupCheckoutEventListeners();
            
            // Mobile menu toggle
            const hamburger = document.getElementById('hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', () => {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });
                
                // Close menu when clicking a link
                document.querySelectorAll('.nav-menu a').forEach(link => {
                    link.addEventListener('click', () => {
                        hamburger.classList.remove('active');
                        navMenu.classList.remove('active');
                    });
                });
            }
            
            // Newsletter form submission
            const newsletterForm = document.querySelector('.newsletter-form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = this.querySelector('input[type="email"]').value;
                    alert(`Thank you for subscribing with ${email}!`);
                    this.reset();
                });
            }
            
            // Check if cart is empty
            checkCartEmpty();
        });
        
        // Format price
        function formatPrice(price) {
            return `$${price.toFixed(2)}`;
        }
        
        // Update cart count
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            const cartCountElements = document.querySelectorAll('.cart-count');
            
            cartCountElements.forEach(element => {
                element.textContent = cartCount;
            });
        }
        
        // Load order summary
        function loadOrderSummary() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const orderItemsContainer = document.getElementById('order-items');
            
            if (cart.length === 0) {
                orderItemsContainer.innerHTML = `
                    <div class="empty-cart-message">
                        <p>Your cart is empty</p>
                        <a href="products.html" class="btn btn-secondary">Shop Now</a>
                    </div>
                `;
                updateOrderTotals(0, 0, 0, 0);
                return;
            }
            
            let orderItemsHTML = '';
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                orderItemsHTML += `
                    <div class="order-item">
                        <div class="order-item-image">
                            <img src="${item.image}" alt="${item.name}">
                            <span class="item-quantity">${item.quantity}</span>
                        </div>
                        <div class="order-item-info">
                            <h5>${item.name}</h5>
                            <p>${formatPrice(item.price)} each</p>
                        </div>
                        <div class="order-item-price">
                            ${formatPrice(itemTotal)}
                        </div>
                    </div>
                `;
            });
            
            orderItemsContainer.innerHTML = orderItemsHTML;
            
            // Calculate shipping (free over $500, otherwise standard shipping)
            const shipping = subtotal > 500 ? 0 : 15;
            const tax = subtotal * 0.08;
            const total = subtotal + shipping + tax;
            
            updateOrderTotals(subtotal, shipping, tax, total);
            
            // Update shipping method options
            updateShippingOptions(subtotal);
        }
        
        // Update order totals
        function updateOrderTotals(subtotal, shipping, tax, total) {
            document.getElementById('order-subtotal').textContent = formatPrice(subtotal);
            document.getElementById('order-shipping').textContent = formatPrice(shipping);
            document.getElementById('order-tax').textContent = formatPrice(tax);
            document.getElementById('order-total').textContent = formatPrice(total);
            
            // Update modal totals as well
            document.getElementById('modal-order-total').textContent = formatPrice(total);
        }
        
        // Update shipping options based on order total
        function updateShippingOptions(subtotal) {
            const freeShippingOption = document.querySelector('input[value="free"]');
            const freeShippingLabel = freeShippingOption ? freeShippingOption.closest('.shipping-method') : null;
            
            if (freeShippingLabel) {
                if (subtotal >= 500) {
                    freeShippingLabel.classList.remove('disabled');
                    freeShippingOption.disabled = false;
                } else {
                    freeShippingLabel.classList.add('disabled');
                    freeShippingOption.disabled = true;
                    
                    // If free shipping was selected but is now unavailable, select standard shipping
                    if (freeShippingOption.checked) {
                        document.querySelector('input[value="standard"]').checked = true;
                        updateSelectedShipping();
                    }
                }
            }
            
            updateSelectedShipping();
        }
        
        // Update selected shipping method display
        function updateSelectedShipping() {
            const shippingMethods = document.querySelectorAll('.shipping-method');
            shippingMethods.forEach(method => {
                method.classList.remove('selected');
            });
            
            const selectedMethod = document.querySelector('input[name="shipping"]:checked');
            if (selectedMethod) {
                selectedMethod.closest('.shipping-method').classList.add('selected');
                
                // Update shipping cost in order summary
                const shippingCost = getShippingCost(selectedMethod.value);
                const subtotal = parseFloat(document.getElementById('order-subtotal').textContent.replace('$', ''));
                const tax = subtotal * 0.08;
                const total = subtotal + shippingCost + tax;
                
                document.getElementById('order-shipping').textContent = formatPrice(shippingCost);
                document.getElementById('order-tax').textContent = formatPrice(tax);
                document.getElementById('order-total').textContent = formatPrice(total);
            }
        }
        
        // Get shipping cost based on method
        function getShippingCost(method) {
            const subtotal = parseFloat(document.getElementById('order-subtotal').textContent.replace('$', ''));
            
            switch(method) {
                case 'free':
                    return subtotal >= 500 ? 0 : 15;
                case 'standard':
                    return 15;
                case 'express':
                    return 25;
                case 'overnight':
                    return 40;
                default:
                    return 15;
            }
        }
        
        // Setup checkout event listeners
        function setupCheckoutEventListeners() {
            // Shipping method selection
            document.querySelectorAll('input[name="shipping"]').forEach(radio => {
                radio.addEventListener('change', updateSelectedShipping);
            });
            
            // Payment method selection
            document.querySelectorAll('input[name="payment"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    // Hide all payment info sections
                    document.getElementById('credit-card-form').style.display = 'none';
                    document.getElementById('paypal-info').style.display = 'none';
                    document.getElementById('apple-pay-info').style.display = 'none';
                    document.getElementById('google-pay-info').style.display = 'none';
                    
                    // Show selected payment method info
                    switch(this.value) {
                        case 'credit-card':
                            document.getElementById('credit-card-form').style.display = 'block';
                            break;
                        case 'paypal':
                            document.getElementById('paypal-info').style.display = 'block';
                            break;
                        case 'apple-pay':
                            document.getElementById('apple-pay-info').style.display = 'block';
                            break;
                        case 'google-pay':
                            document.getElementById('google-pay-info').style.display = 'block';
                            break;
                    }
                    
                    // Update payment method selection UI
                    document.querySelectorAll('.payment-method').forEach(method => {
                        method.classList.remove('selected');
                    });
                    this.closest('.payment-method').classList.add('selected');
                });
            });
            
            // Different billing address checkbox
            const differentBillingCheckbox = document.getElementById('different-billing');
            if (differentBillingCheckbox) {
                differentBillingCheckbox.addEventListener('change', function() {
                    document.getElementById('billing-address-form').style.display = 
                        this.checked ? 'block' : 'none';
                });
            }
            
            // Promo code application
            const applyPromoBtn = document.getElementById('apply-promo');
            if (applyPromoBtn) {
                applyPromoBtn.addEventListener('click', applyPromoCode);
            }
            
            // Card number formatting
            const cardNumberInput = document.getElementById('card-number');
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                    let matches = value.match(/\d{4,16}/g);
                    let match = matches && matches[0] || '';
                    let parts = [];
                    
                    for (let i = 0, len = match.length; i < len; i += 4) {
                        parts.push(match.substring(i, i + 4));
                    }
                    
                    if (parts.length) {
                        e.target.value = parts.join(' ');
                    } else {
                        e.target.value = value;
                    }
                });
            }
            
            // Expiry date formatting
            const expiryInput = document.getElementById('card-expiry');
            if (expiryInput) {
                expiryInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                    
                    if (value.length >= 2) {
                        e.target.value = value.substring(0, 2) + '/' + value.substring(2, 4);
                    } else {
                        e.target.value = value;
                    }
                });
            }
            
            // Form submission
            const checkoutForm = document.getElementById('checkout-form');
            if (checkoutForm) {
                checkoutForm.addEventListener('submit', processOrder);
            }
            
            // Modal close button
            const modalCloseBtn = document.querySelector('.modal-close');
            if (modalCloseBtn) {
                modalCloseBtn.addEventListener('click', closeModal);
            }
            
            // Close modal when clicking outside
            const modal = document.getElementById('order-confirmation-modal');
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeModal();
                    }
                });
            }
        }
        
        // Apply promo code
        function applyPromoCode() {
            const promoCode = document.getElementById('promo-code').value.trim().toUpperCase();
            const promoMessage = document.getElementById('promo-message');
            
            // Valid promo codes
            const validPromoCodes = {
                'TECH10': 0.10,  // 10% off
                'SAVE20': 0.20,  // 20% off
                'WELCOME': 0.15, // 15% off
                'FREESHIP': 'free' // Free shipping
            };
            
            if (!promoCode) {
                promoMessage.innerHTML = '<p class="promo-error">Please enter a promo code</p>';
                return;
            }
            
            if (validPromoCodes.hasOwnProperty(promoCode)) {
                const discount = validPromoCodes[promoCode];
                
                if (discount === 'free') {
                    // Apply free shipping
                    promoMessage.innerHTML = '<p class="promo-success">Free shipping applied!</p>';
                    document.querySelector('input[value="free"]').checked = true;
                    updateSelectedShipping();
                } else {
                    // Apply percentage discount
                    const subtotal = parseFloat(document.getElementById('order-subtotal').textContent.replace('$', ''));
                    const discountAmount = subtotal * discount;
                    const newSubtotal = subtotal - discountAmount;
                    const shipping = getShippingCost(document.querySelector('input[name="shipping"]:checked').value);
                    const tax = newSubtotal * 0.08;
                    const total = newSubtotal + shipping + tax;
                    
                    // Add discount row to order summary
                    const orderSummaryDetails = document.querySelector('.order-summary-details');
                    const existingDiscount = document.querySelector('.summary-row.discount');
                    
                    if (existingDiscount) {
                        existingDiscount.remove();
                    }
                    
                    const discountRow = document.createElement('div');
                    discountRow.className = 'summary-row discount';
                    discountRow.innerHTML = `
                        <span>Discount (${promoCode})</span>
                        <span>-${formatPrice(discountAmount)}</span>
                    `;
                    
                    // Insert discount row before total
                    const totalRow = document.querySelector('.summary-row.total');
                    orderSummaryDetails.insertBefore(discountRow, totalRow);
                    
                    // Update totals
                    document.getElementById('order-subtotal').textContent = formatPrice(newSubtotal);
                    document.getElementById('order-tax').textContent = formatPrice(tax);
                    document.getElementById('order-total').textContent = formatPrice(total);
                    
                    promoMessage.innerHTML = `<p class="promo-success">${discount * 100}% discount applied!</p>`;
                }
                
                // Disable promo code input and button
                document.getElementById('promo-code').disabled = true;
                document.getElementById('apply-promo').disabled = true;
                document.getElementById('apply-promo').textContent = 'Applied';
                
            } else {
                promoMessage.innerHTML = '<p class="promo-error">Invalid promo code</p>';
            }
        }
        
        // Process order
        function processOrder(e) {
            e.preventDefault();
            
            // Validate form
            if (!validateCheckoutForm()) {
                return;
            }
            
            // Get form data
            const formData = getFormData();
            
            // Simulate order processing
            simulateOrderProcessing(formData);
        }
        
        // Validate checkout form
        function validateCheckoutForm() {
            // Basic validation
            const requiredFields = document.querySelectorAll('#checkout-form [required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.classList.add('error');
                    isValid = false;
                } else {
                    field.classList.remove('error');
                }
            });
            
            // Validate email
            const emailField = document.getElementById('email');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (emailField.value && !emailRegex.test(emailField.value)) {
                emailField.classList.add('error');
                alert('Please enter a valid email address');
                isValid = false;
            }
            
            // Validate phone
            const phoneField = document.getElementById('phone');
            const phoneRegex = /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/;
            if (phoneField.value && !phoneRegex.test(phoneField.value.replace(/\s/g, ''))) {
                phoneField.classList.add('error');
                alert('Please enter a valid phone number');
                isValid = false;
            }
            
            // Validate credit card if selected
            const creditCardSelected = document.querySelector('input[name="payment"]:checked').value === 'credit-card';
            if (creditCardSelected) {
                const cardNumber = document.getElementById('card-number').value.replace(/\s/g, '');
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCVC = document.getElementById('card-cvc').value;
                
                if (cardNumber.length < 15 || cardNumber.length > 16) {
                    alert('Please enter a valid card number');
                    isValid = false;
                }
                
                if (!cardExpiry.match(/^(0[1-9]|1[0-2])\/[0-9]{2}$/)) {
                    alert('Please enter a valid expiry date (MM/YY)');
                    isValid = false;
                }
                
                if (cardCVC.length < 3 || cardCVC.length > 4) {
                    alert('Please enter a valid CVC');
                    isValid = false;
                }
            }
            
            // Check if cart is empty
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart.length === 0) {
                alert('Your cart is empty. Please add items to your cart before checkout.');
                isValid = false;
            }
            
            return isValid;
        }
        
        // Get form data
        function getFormData() {
            const shippingMethod = document.querySelector('input[name="shipping"]:checked').value;
            const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
            
            return {
                customer: {
                    email: document.getElementById('email').value,
                    firstName: document.getElementById('first-name').value,
                    lastName: document.getElementById('last-name').value,
                    phone: document.getElementById('phone').value
                },
                shipping: {
                    address: document.getElementById('address').value,
                    address2: document.getElementById('address2').value,
                    city: document.getElementById('city').value,
                    state: document.getElementById('state').value,
                    zip: document.getElementById('zip').value,
                    country: document.getElementById('country').value,
                    method: shippingMethod
                },
                billing: {
                    different: document.getElementById('different-billing').checked,
                    address: document.getElementById('billing-address').value,
                    city: document.getElementById('billing-city').value,
                    state: document.getElementById('billing-state').value,
                    zip: document.getElementById('billing-zip').value
                },
                payment: {
                    method: paymentMethod,
                    cardName: document.getElementById('card-name').value,
                    cardNumber: document.getElementById('card-number').value,
                    cardExpiry: document.getElementById('card-expiry').value,
                    cardCVC: document.getElementById('card-cvc').value
                },
                notes: document.getElementById('order-notes').value,
                newsletter: document.getElementById('newsletter').checked,
                terms: document.getElementById('terms').checked
            };
        }
        
        // Simulate order processing
        function simulateOrderProcessing(formData) {
            // Show loading state
            const submitBtn = document.querySelector('#checkout-form button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            submitBtn.disabled = true;
            
            // Simulate API call delay
            setTimeout(() => {
                // Generate order ID
                const orderId = 'TS-' + Date.now().toString().slice(-8);
                
                // Get order total
                const orderTotal = document.getElementById('order-total').textContent;
                
                // Get delivery estimate
                const shippingMethod = document.querySelector('input[name="shipping"]:checked').value;
                const deliveryDate = calculateDeliveryDate(shippingMethod);
                
                // Update confirmation modal
                document.getElementById('generated-order-id').textContent = orderId;
                document.getElementById('confirmation-email').textContent = formData.customer.email;
                document.getElementById('modal-order-total').textContent = orderTotal;
                document.getElementById('delivery-date').textContent = deliveryDate;
                document.getElementById('delivery-method').textContent = 
                    shippingMethod.charAt(0).toUpperCase() + shippingMethod.slice(1) + ' Shipping';
                
                // Load order items into modal
                loadModalOrderItems();
                
                // Show confirmation modal
                showConfirmationModal();
                
                // Clear cart
                localStorage.removeItem('cart');
                updateCartCount();
                
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Save order to localStorage (for demo purposes)
                saveOrderToHistory(orderId, formData, orderTotal);
                
            }, 2000); // 2 second delay to simulate processing
        }
        
        // Calculate delivery date
        function calculateDeliveryDate(shippingMethod) {
            const today = new Date();
            let deliveryDate = new Date(today);
            
            switch(shippingMethod) {
                case 'overnight':
                    deliveryDate.setDate(today.getDate() + 1);
                    break;
                case 'express':
                    deliveryDate.setDate(today.getDate() + 3);
                    break;
                case 'standard':
                    deliveryDate.setDate(today.getDate() + 7);
                    break;
                case 'free':
                    deliveryDate.setDate(today.getDate() + 10);
                    break;
                default:
                    deliveryDate.setDate(today.getDate() + 7);
            }
            
            // Skip weekends
            while (deliveryDate.getDay() === 0 || deliveryDate.getDay() === 6) {
                deliveryDate.setDate(deliveryDate.getDate() + 1);
            }
            
            return deliveryDate.toLocaleDateString('en-US', { 
                weekday: 'long', 
                month: 'long', 
                day: 'numeric',
                year: 'numeric'
            });
        }
        
        // Load order items into modal
        function loadModalOrderItems() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const modalOrderItems = document.getElementById('modal-order-items');
            
            if (cart.length === 0) return;
            
            let modalItemsHTML = '';
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                
                modalItemsHTML += `
                    <div class="modal-order-item">
                        <div class="modal-item-info">
                            <span class="modal-item-name">${item.name}  ${item.quantity}</span>
                            <span class="modal-item-price">${formatPrice(itemTotal)}</span>
                        </div>
                    </div>
                `;
            });
            
            modalOrderItems.innerHTML = modalItemsHTML;
        }
        
        // Show confirmation modal
        function showConfirmationModal() {
            const modal = document.getElementById('order-confirmation-modal');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        // Close modal
        function closeModal() {
            const modal = document.getElementById('order-confirmation-modal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Save order to history (for demo)
        function saveOrderToHistory(orderId, formData, total) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const order = {
                id: orderId,
                date: new Date().toISOString(),
                items: cart,
                total: total,
                customer: formData.customer,
                shipping: formData.shipping,
                status: 'processing'
            };
            
            // Get existing orders or initialize empty array
            const orders = JSON.parse(localStorage.getItem('orderHistory')) || [];
            orders.push(order);
            
            // Save to localStorage
            localStorage.setItem('orderHistory', JSON.stringify(orders));
        }
        
        // Check if cart is empty and redirect
        function checkCartEmpty() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart.length === 0) {
                // Show message and redirect after a moment
                const orderItemsContainer = document.getElementById('order-items');
                if (orderItemsContainer) {
                    orderItemsContainer.innerHTML = `
                        <div class="empty-cart-message">
                            <i class="fas fa-shopping-cart"></i>
                            <h4>Your cart is empty</h4>
                            <p>Redirecting you to the products page...</p>
                        </div>
                    `;
                }
                
                // Disable form
                const checkoutForm = document.getElementById('checkout-form');
                if (checkoutForm) {
                    checkoutForm.style.opacity = '0.5';
                    checkoutForm.style.pointerEvents = 'none';
                }
                
                // Redirect after 3 seconds
                setTimeout(() => {
                    window.location.href = 'products.html';
                }, 3000);
            }
        }
    </script>
    
    <style>
        /* Additional Styles for Checkout Page */
        
        .checkout-steps {
            background-color: #f8fafc;
            padding: 1.5rem 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .steps {
            display: flex;
            justify-content: space-between;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .step {
            display: flex;
            align-items: center;
            flex: 1;
            position: relative;
        }
        
        .step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 60px;
            right: 0;
            height: 2px;
            background-color: #e5e7eb;
            z-index: 1;
        }
        
        .step.active:not(:last-child)::after {
            background-color: #2563eb;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            background-color: #e5e7eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #6b7280;
            margin-right: 1rem;
            position: relative;
            z-index: 2;
        }
        
        .step.active .step-number {
            background-color: #2563eb;
            color: white;
        }
        
        .step-text {
            display: flex;
            flex-direction: column;
        }
        
        .step-text span {
            font-weight: 600;
            color: #6b7280;
        }
        
        .step-text small {
            font-size: 0.8rem;
            color: #9ca3af;
        }
        
        .step.active .step-text span {
            color: #2563eb;
        }
        
        .checkout-form-section {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .checkout-section {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
        }
        
        .checkout-section h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .form-help {
            display: block;
            margin-top: 0.25rem;
            font-size: 0.85rem;
            color: var(--text-light);
        }
        
        .checkbox-group {
            margin-top: 1rem;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 0.95rem;
        }
        
        .checkbox-label input {
            display: none;
        }
        
        .checkbox-label .checkmark {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            margin-right: 10px;
            position: relative;
            transition: var(--transition);
        }
        
        .checkbox-label input:checked + .checkmark {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .checkbox-label input:checked + .checkmark::after {
            content: '';
            position: absolute;
            color: white;
            font-size: 12px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .shipping-methods,
        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .shipping-method,
        .payment-method {
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            padding: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .shipping-method:hover,
        .payment-method:hover,
        .shipping-method.selected,
        .payment-method.selected {
            border-color: var(--primary-color);
            background-color: rgba(37, 99, 235, 0.05);
        }
        
        .shipping-method.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .shipping-method.disabled:hover {
            border-color: var(--border-color);
            background-color: white;
        }
        
        .shipping-method input,
        .payment-method input {
            display: none;
        }
        
        .shipping-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .shipping-info h4 {
            margin-bottom: 0.25rem;
            font-size: 1rem;
        }
        
        .shipping-info p {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0;
        }
        
        .shipping-info small {
            display: block;
            font-size: 0.8rem;
            color: var(--accent-color);
            margin-top: 0.25rem;
        }
        
        .shipping-price {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .payment-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .payment-icon {
            width: 40px;
            height: 40px;
            background-color: var(--bg-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-color);
        }
        
        .payment-info h4 {
            margin-bottom: 0.25rem;
            font-size: 1rem;
        }
        
        .payment-info p {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0;
        }
        
        .credit-card-form {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
        }
        
        .card-icons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            font-size: 2rem;
            color: var(--text-light);
        }
        
        .card-icons i {
            transition: var(--transition);
        }
        
        .card-icons i:hover {
            color: var(--primary-color);
        }
        
        .payment-info-text {
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .order-summary {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 0;
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        
        .order-summary-content {
            padding: 1.5rem;
        }
        
        .order-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 1.5rem;
            padding-right: 0.5rem;
        }
        
        .order-item {
            display: flex;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .order-item:last-child {
            border-bottom: none;
        }
        
        .order-item-image {
            position: relative;
            width: 60px;
            height: 60px;
            border-radius: var(--radius);
            overflow: hidden;
            margin-right: 1rem;
        }
        
        .order-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .item-quantity {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary-color);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .order-item-info h5 {
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
        }
        
        .order-item-info p {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 0;
        }
        
        .order-item-price {
            margin-left: auto;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .empty-cart-message {
            text-align: center;
            padding: 2rem 0;
        }
        
        .empty-cart-message i {
            font-size: 3rem;
            color: var(--border-color);
            margin-bottom: 1rem;
        }
        
        .order-summary-details {
            margin: 1.5rem 0;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        
        .summary-row.discount {
            color: var(--success-color);
        }
        
        .promo-code {
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
        }
        
        .promo-input {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .promo-input input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            outline: none;
        }
        
        #promo-message {
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }
        
        .promo-success {
            color: var(--success-color);
        }
        
        .promo-error {
            color: var(--danger-color);
        }
        
        .security-info {
            margin: 1.5rem 0;
        }
        
        .security-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .security-item:last-child {
            border-bottom: none;
        }
        
        .security-item i {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .security-item h5 {
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }
        
        .security-item p {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 0;
        }
        
        .need-help {
            padding: 1rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
            margin-top: 1.5rem;
        }
        
        .checkout-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal-content {
            background-color: white;
            border-radius: var(--radius);
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-header h2 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
            color: var(--success-color);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            transition: var(--transition);
        }
        
        .modal-close:hover {
            color: var(--text-color);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .confirmation-content {
            text-align: center;
        }
        
        .confirmation-icon {
            font-size: 4rem;
            color: var(--success-color);
            margin-bottom: 1rem;
        }
        
        .confirmation-content h3 {
            margin-bottom: 1rem;
        }
        
        .order-id {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            padding: 0.5rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
        }
        
        .order-summary-modal {
            text-align: left;
            margin: 2rem 0;
            padding: 1.5rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
        }
        
        .order-summary-modal h4 {
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .modal-order-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-order-item:last-child {
            border-bottom: none;
        }
        
        .shipping-estimate {
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: rgba(37, 99, 235, 0.1);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .next-steps {
            text-align: left;
            margin: 1.5rem 0;
        }
        
        .next-steps ul {
            list-style: none;
            padding: 0;
        }
        
        .next-steps li {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
        }
        
        .next-steps li i {
            color: var(--primary-color);
            margin-top: 0.25rem;
        }
        
        .modal-footer {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        
        .modal-footer .btn {
            flex: 1;
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .steps {
                flex-direction: column;
                gap: 1rem;
            }
            
            .step:not(:last-child)::after {
                display: none;
            }
            
            .step {
                flex-direction: column;
                text-align: center;
            }
            
            .step-number {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }
            
            .checkout-actions {
                flex-direction: column;
                gap: 1rem;
            }
            
            .checkout-actions .btn {
                width: 100%;
            }
            
            .modal-footer {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .shipping-content,
            .payment-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .shipping-price {
                align-self: flex-end;
            }
        }
    </style>
</body>
</html>